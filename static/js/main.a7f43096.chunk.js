(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,a){t.exports=a(22)},16:function(t,e,a){},18:function(t,e,a){},20:function(t,e,a){},22:function(t,e,a){"use strict";a.r(e);var r=a(0),s=a.n(r),n=a(3),i=a.n(n),o=(a(16),a(7)),c=a(1),l=a(4),h=a(5),u=a(8),m=a(6),y=a(9),f=(a(18),[[0,1,0,0],[0,1,0,1],[0,1,1,1],[0,0,1,1],[0,1,1,0],[0,1,0,1],[0,0,1,1],[0,0,1,1],[0,1,1,0],[0,1,0,0],[0,1,0,1],[0,0,1,1],[0,1,1,1],[0,1,1,0],[0,1,0,1],[0,1,1,0],[1,1,0,1],[1,0,1,0],[1,1,0,0],[0,0,0,1],[1,1,1,0],[1,0,0,1],[0,0,1,1],[0,1,1,0],[1,1,0,0],[1,0,0,1],[1,0,1,0],[0,1,0,1],[1,0,1,0],[1,0,0,1],[1,0,1,0],[1,1,0,0],[1,1,0,0],[0,1,0,0],[1,0,0,1],[0,1,1,0],[1,0,0,1],[0,0,1,1],[0,0,1,1],[1,0,1,0],[1,0,0,1],[0,0,1,1],[0,1,1,0],[1,0,0,1],[0,1,1,1],[0,1,1,0],[0,1,0,0],[1,1,0,0],[1,1,0,0],[1,1,0,1],[0,1,1,0],[1,0,0,1],[0,1,1,0],[0,1,0,1],[0,0,1,1],[0,1,1,0],[0,0,0,1],[0,0,1,1],[1,0,1,1],[0,1,1,0],[1,0,0,0],[1,1,0,0],[1,1,0,1],[1,0,1,0],[1,1,0,0],[1,1,0,0],[1,0,0,1],[0,1,1,0],[1,1,0,0],[1,1,0,0],[0,1,0,0],[1,1,0,0],[0,1,0,1],[0,1,1,0],[0,1,0,1],[1,0,1,0],[0,1,0,1],[1,0,1,0],[1,0,0,1],[0,1,1,0],[1,0,0,1],[1,0,1,0],[0,1,0,1],[1,0,1,0],[1,1,0,0],[1,1,0,0],[1,1,0,0],[1,0,0,1],[1,0,1,0],[1,1,0,0],[1,0,0,1],[0,1,1,0],[1,1,0,0],[0,1,0,1],[0,1,1,0],[1,1,0,0],[0,1,0,0],[0,1,0,1],[1,0,1,0],[0,1,0,1],[1,0,1,0],[1,1,0,1],[1,0,1,0],[0,1,0,1],[0,1,1,0],[1,0,0,1],[0,1,1,0],[1,1,0,0],[1,1,0,0],[1,0,0,0],[1,1,0,0],[1,1,0,0],[1,1,0,0],[1,0,0,1],[0,1,1,0],[1,0,0,1],[0,0,1,1],[1,0,1,0],[0,1,0,1],[1,1,1,0],[1,0,0,1],[0,0,1,1],[1,0,1,0],[1,0,0,1],[1,0,1,0],[0,1,0,1],[1,0,1,0],[1,1,0,0],[1,1,0,1],[0,0,1,1],[1,0,1,1],[0,0,1,1],[0,0,1,0],[0,1,0,1],[1,0,1,0],[1,0,0,0],[0,1,0,1],[0,1,1,0],[0,1,0,0],[0,1,0,1],[0,1,1,0],[1,1,0,1],[0,0,1,1],[1,0,1,0],[1,1,0,1],[0,0,1,1],[0,0,1,0],[0,1,0,1],[0,0,1,1],[1,0,1,0],[0,1,0,1],[0,0,1,1],[1,0,1,0],[1,1,0,0],[1,1,0,1],[1,0,1,0],[1,1,0,0],[1,0,0,1],[0,0,1,1],[0,1,1,0],[1,0,0,0],[0,1,0,1],[0,0,1,1],[1,1,1,0],[0,1,0,1],[0,0,1,1],[1,0,1,0],[0,1,0,1],[0,1,1,0],[1,1,0,0],[1,0,0,1],[0,0,1,0],[1,0,0,1],[0,1,1,1],[0,1,1,0],[1,1,0,0],[0,1,0,1],[1,0,1,0],[0,1,0,0],[1,1,0,0],[1,1,0,0],[0,1,0,1],[0,0,1,1],[1,0,1,0],[1,0,0,0],[1,0,0,1],[0,0,1,1],[0,0,1,1],[0,1,1,0],[1,1,0,0],[1,0,0,1],[1,0,1,0],[1,1,0,0],[0,1,0,1],[1,0,1,0],[1,1,0,0],[1,1,0,0],[1,1,0,1],[0,1,1,0],[0,1,0,1],[0,0,1,1],[0,1,1,1],[0,1,1,0],[0,1,0,0],[1,1,0,0],[1,0,0,1],[0,0,1,1],[0,0,1,0],[1,1,0,0],[1,1,0,0],[0,0,0,1],[1,0,1,0],[1,1,0,0],[1,1,0,0],[1,0,0,1],[1,0,1,0],[0,1,0,0],[1,1,0,0],[1,1,0,0],[1,1,0,0],[1,1,0,0],[0,1,0,1],[0,0,1,1],[0,1,1,0],[1,1,0,0],[1,0,0,1],[0,0,1,1],[0,0,1,1],[1,0,1,0],[1,0,0,1],[0,1,1,0],[0,1,0,1],[1,1,1,0],[1,1,0,0],[1,0,0,1],[1,0,1,0],[1,0,0,1],[1,0,1,0],[0,1,0,0],[1,1,0,0],[1,0,0,1],[0,0,1,1],[0,0,1,1],[0,0,1,1],[0,0,1,1],[0,0,1,1],[1,0,1,1],[1,0,1,0],[1,0,0,0],[1,0,0,1],[0,0,1,1],[0,0,1,1],[0,0,1,1],[0,0,1,1],[1,0,1,1],[1,0,1,0]]),p=(a(20),function(){return s.a.createElement("div",{className:"map"},f.map(function(t,e){return s.a.createElement("div",{key:e,className:"block",style:{borderTopColor:t[0]?"transparent":"white",borderBottomColor:t[1]?"transparent":"white",borderLeftColor:t[2]?"transparent":"white",borderRightColor:t[3]?"transparent":"white"}})}))});var d=function(t){var e=t.score,a=t.title,r=t.hp,n=t.status;return s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"left"},s.a.createElement("div",null,"Score"),s.a.createElement("div",null,function(t){return String(t).length<5?Array(5-String(t).length).fill().map(function(t){return"0"}).join("")+t:t}(e))),s.a.createElement("div",{className:"right"},s.a.createElement("div",null,"HP"),s.a.createElement("div",null,Array(r).fill().map(function(t){return"x"}))),s.a.createElement("div",null,a),s.a.createElement("div",null,"gameOver"===n?"Game Over":""))},v=function(t){function e(){var t,a;Object(l.a)(this,e);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(a=Object(u.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(s)))).state={player:{x:Math.floor(8*Math.random()),y:Math.floor(8*Math.random())},monster:{x:Math.floor(8*Math.random())+8,y:Math.floor(8*Math.random())+8},items:[],key:"",score:0,hp:5,status:"start"},a.changeKey=function(t){var e=t.key;"Enter"===e?a.action():"wasdef".includes(e)&&a.setState({key:e})},a.dfs=function(t,e,r,s){if(5===e)return!1;if(s.x===t.x&&s.y===t.y)return t;for(var n=0;n<4;n++)if((1^r)!==n&&b(t,n)){var i=Object(c.a)({},t);switch(n){case 0:i.y-=1;break;case 1:i.y+=1;break;case 2:i.x-=1;break;case 3:i.x+=1}if(a.dfs(i,e+1,n,s))return i}return!1},a}return Object(y.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){window.addEventListener("keypress",this.changeKey)}},{key:"action",value:function(){var t=Object(c.a)({},this.state.player);switch(this.state.key){case"w":b(t,0)?t.y-=1:alert("Boom!");break;case"s":b(t,1)?t.y+=1:alert("Boom!");break;case"a":b(t,2)?t.x-=1:alert("Boom!");break;case"d":b(t,3)?t.x+=1:alert("Boom!");break;case"e":return this.pick();case"f":return this.attack()}var e=this.dfs(this.state.monster,0,42,t),a=this.state.hp;if(this.state.monster.x===this.state.player.x&&this.state.monster.y===this.state.player.y){if(!(a>2))return void this.setState({player:t,key:"",hp:0,monster:e||this.state.monster,status:"gameOver"});a-=2}this.setState({player:t,key:"",hp:a,monster:e||this.state.monster})}},{key:"attack",value:function(){if(this.state.player.x===this.state.monster.x&&this.state.player.y===this.state.monster.y){var t={x:Math.floor(16*Math.random()),y:Math.floor(16*Math.random())};this.setState({monster:t,items:[].concat(Object(o.a)(this.state.items),[Object(c.a)({},this.state.player)]),score:this.state.score+1})}else alert("Boom!")}},{key:"pick",value:function(){var t=this,e=-1;if(this.state.items.forEach(function(a,r){var s=a.x,n=a.y;s===t.state.player.x&&n===t.state.player.y&&(e=r)}),-1!==e){var a=this.state.items.filter(function(t,a){return a!==e}),r=this.state.hp;r=5===r?5:r+1,this.setState({items:a,hp:r})}else alert("Boom!")}},{key:"renderItems",value:function(){return this.state.items.map(function(t,e){return s.a.createElement(k,Object.assign({key:e},t,{c:"i"}))})}},{key:"renderMonster",value:function(){var t="M";return this.state.player.x===this.state.monster.x&&this.state.player.y===this.state.monster.y&&(t="B"),s.a.createElement(k,Object.assign({c:t},this.state.monster))}},{key:"renderPlayer",value:function(){var t=this,e="O";return this.state.items.find(function(e){return e.x===t.state.player.x&&e.y===t.state.player.y})&&(e="G"),s.a.createElement(k,Object.assign({c:e},this.state.player))}},{key:"render",value:function(){var t=this;return"gameOver"===this.state.status&&window.removeEventListener("keypress",this.changeKey),s.a.createElement("div",{className:"App",ref:function(e){return t.game=e}},s.a.createElement(d,{title:"Dungeons v1.0.1",score:this.state.score,hp:this.state.hp,status:this.state.status}),this.renderItems(),this.renderPlayer(),this.renderMonster(),s.a.createElement(p,null),s.a.createElement("div",{className:"key"},"[>] action: ".concat(this.state.key)))}}]),e}(r.Component),k=function(t){var e=t.x,a=t.y,r=t.c;return s.a.createElement("div",{style:{transform:"translate(".concat(50*e,"px,").concat(50*a,"px)")},className:"item"},r)};function b(t,e){return!!f[t.x+16*t.y][e]}var x=v;i.a.render(s.a.createElement(x,null),document.getElementById("root"))}},[[10,2,1]]]);
//# sourceMappingURL=main.a7f43096.chunk.js.map