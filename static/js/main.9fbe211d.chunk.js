(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(22)},16:function(e,t,a){},18:function(e,t,a){},20:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(3),i=a.n(s),c=(a(16),a(7)),o=a(1),l=a(4),u=a(5),m=a(8),h=a(6),y=a(9),p=(a(18),[[0,1,0,0],[0,1,0,1],[0,1,1,1],[0,0,1,1],[0,1,1,0],[0,1,0,1],[0,0,1,1],[0,0,1,1],[0,1,1,0],[0,1,0,0],[0,1,0,1],[0,0,1,1],[0,1,1,1],[0,1,1,0],[0,1,0,1],[0,1,1,0],[1,1,0,1],[1,0,1,0],[1,1,0,0],[0,0,0,1],[1,1,1,0],[1,0,0,1],[0,0,1,1],[0,1,1,0],[1,1,0,0],[1,0,0,1],[1,0,1,0],[0,1,0,1],[1,0,1,0],[1,0,0,1],[1,0,1,0],[1,1,0,0],[1,1,0,0],[0,1,0,0],[1,0,0,1],[0,1,1,0],[1,0,0,1],[0,0,1,1],[0,0,1,1],[1,0,1,0],[1,0,0,1],[0,0,1,1],[0,1,1,0],[1,0,0,1],[0,1,1,1],[0,1,1,0],[0,1,0,0],[1,1,0,0],[1,1,0,0],[1,1,0,1],[0,1,1,0],[1,0,0,1],[0,1,1,0],[0,1,0,1],[0,0,1,1],[0,1,1,0],[0,0,0,1],[0,0,1,1],[1,0,1,1],[0,1,1,0],[1,0,0,0],[1,1,0,0],[1,1,0,1],[1,0,1,0],[1,1,0,0],[1,1,0,0],[1,0,0,1],[0,1,1,0],[1,1,0,0],[1,1,0,0],[0,1,0,0],[1,1,0,0],[0,1,0,1],[0,1,1,0],[0,1,0,1],[1,0,1,0],[0,1,0,1],[1,0,1,0],[1,0,0,1],[0,1,1,0],[1,0,0,1],[1,0,1,0],[0,1,0,1],[1,0,1,0],[1,1,0,0],[1,1,0,0],[1,1,0,0],[1,0,0,1],[1,0,1,0],[1,1,0,0],[1,0,0,1],[0,1,1,0],[1,1,0,0],[0,1,0,1],[0,1,1,0],[1,1,0,0],[0,1,0,0],[0,1,0,1],[1,0,1,0],[0,1,0,1],[1,0,1,0],[1,1,0,1],[1,0,1,0],[0,1,0,1],[0,1,1,0],[1,0,0,1],[0,1,1,0],[1,1,0,0],[1,1,0,0],[1,0,0,0],[1,1,0,0],[1,1,0,0],[1,1,0,0],[1,0,0,1],[0,1,1,0],[1,0,0,1],[0,0,1,1],[1,0,1,0],[0,1,0,1],[1,1,1,0],[1,0,0,1],[0,0,1,1],[1,0,1,0],[1,0,0,1],[1,0,1,0],[0,1,0,1],[1,0,1,0],[1,1,0,0],[1,1,0,1],[0,0,1,1],[1,0,1,1],[0,0,1,1],[0,0,1,0],[0,1,0,1],[1,0,1,0],[1,0,0,0],[0,1,0,1],[0,1,1,0],[0,1,0,0],[0,1,0,1],[0,1,1,0],[1,1,0,1],[0,0,1,1],[1,0,1,0],[1,1,0,1],[0,0,1,1],[0,0,1,0],[0,1,0,1],[0,0,1,1],[1,0,1,0],[0,1,0,1],[0,0,1,1],[1,0,1,0],[1,1,0,0],[1,1,0,1],[1,0,1,0],[1,1,0,0],[1,0,0,1],[0,0,1,1],[0,1,1,0],[1,0,0,0],[0,1,0,1],[0,0,1,1],[1,1,1,0],[0,1,0,1],[0,0,1,1],[1,0,1,0],[0,1,0,1],[0,1,1,0],[1,1,0,0],[1,0,0,1],[0,0,1,0],[1,0,0,1],[0,1,1,1],[0,1,1,0],[1,1,0,0],[0,1,0,1],[1,0,1,0],[0,1,0,0],[1,1,0,0],[1,1,0,0],[0,1,0,1],[0,0,1,1],[1,0,1,0],[1,0,0,0],[1,0,0,1],[0,0,1,1],[0,0,1,1],[0,1,1,0],[1,1,0,0],[1,0,0,1],[1,0,1,0],[1,1,0,0],[0,1,0,1],[1,0,1,0],[1,1,0,0],[1,1,0,0],[1,1,0,1],[0,1,1,0],[0,1,0,1],[0,0,1,1],[0,1,1,1],[0,1,1,0],[0,1,0,0],[1,1,0,0],[1,0,0,1],[0,0,1,1],[0,0,1,0],[1,1,0,0],[1,1,0,0],[0,0,0,1],[1,0,1,0],[1,1,0,0],[1,1,0,0],[1,0,0,1],[1,0,1,0],[0,1,0,0],[1,1,0,0],[1,1,0,0],[1,1,0,0],[1,1,0,0],[0,1,0,1],[0,0,1,1],[0,1,1,0],[1,1,0,0],[1,0,0,1],[0,0,1,1],[0,0,1,1],[1,0,1,0],[1,0,0,1],[0,1,1,0],[0,1,0,1],[1,1,1,0],[1,1,0,0],[1,0,0,1],[1,0,1,0],[1,0,0,1],[1,0,1,0],[0,1,0,0],[1,1,0,0],[1,0,0,1],[0,0,1,1],[0,0,1,1],[0,0,1,1],[0,0,1,1],[0,0,1,1],[1,0,1,1],[1,0,1,0],[1,0,0,0],[1,0,0,1],[0,0,1,1],[0,0,1,1],[0,0,1,1],[0,0,1,1],[1,0,1,1],[1,0,1,0]]),f=(a(20),function(){return n.a.createElement("div",{className:"map"},p.map(function(e,t){return n.a.createElement("div",{key:t,className:"block",style:{borderTopColor:e[0]?"transparent":"white",borderBottomColor:e[1]?"transparent":"white",borderLeftColor:e[2]?"transparent":"white",borderRightColor:e[3]?"transparent":"white"}})}))});var d=function(e){var t=e.score,a=e.title,r=e.hp;return n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"left"},n.a.createElement("div",null,"Score"),n.a.createElement("div",null,t)),n.a.createElement("div",{className:"right"},n.a.createElement("div",null,"HP"),n.a.createElement("div",null,Array(r).fill().map(function(e){return"x"}))),a)},v=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(n)))).state={player:{x:10,y:0},monster:{x:2,y:2},items:[],key:"",score:0,hp:5},a.changeKey=function(e){var t=e.key;"Enter"===t?a.action():"wasdef".includes(t)&&a.setState({key:t})},a}return Object(y.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keypress",this.changeKey)}},{key:"action",value:function(){var e=Object(o.a)({},this.state.player);switch(this.state.key){case"w":b(e,0)?e.y-=1:alert("Boom!");break;case"s":b(e,1)?e.y+=1:alert("Boom!");break;case"a":b(e,2)?e.x-=1:alert("Boom!");break;case"d":b(e,3)?e.x+=1:alert("Boom!");break;case"e":return this.pick();case"f":return this.attack()}e.x>=0&&e.x<16&&e.y>=0&&e.y<16?this.setState({player:e,key:""}):alert("Boom!")}},{key:"attack",value:function(){if(this.state.player.x===this.state.monster.x&&this.state.player.y===this.state.monster.y){var e={x:Math.floor(16*Math.random()),y:Math.floor(16*Math.random())};this.setState({monster:e,items:[].concat(Object(c.a)(this.state.items),[Object(o.a)({},this.state.player)]),score:this.state.score+1})}else alert("Boom!")}},{key:"pick",value:function(){var e=this,t=-1;if(this.state.items.forEach(function(a,r){var n=a.x,s=a.y;n===e.state.player.x&&s===e.state.player.y&&(t=r)}),-1!==t){var a=this.state.items.filter(function(e,a){return a!==t}),r=this.state.hp;r=5===r?5:r+1,this.setState({items:a,hp:r})}else alert("Boom!")}},{key:"renderItems",value:function(){return this.state.items.map(function(e,t){return n.a.createElement(k,Object.assign({key:t},e,{c:"i"}))})}},{key:"renderMonster",value:function(){var e="M";return this.state.player.x===this.state.monster.x&&this.state.player.y===this.state.monster.y&&(e="B"),n.a.createElement(k,Object.assign({c:e},this.state.monster))}},{key:"renderPlayer",value:function(){var e=this,t="O";return this.state.items.find(function(t){return t.x===e.state.player.x&&t.y===e.state.player.y})&&(t="G"),n.a.createElement(k,Object.assign({c:t},this.state.player))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"App",ref:function(t){return e.game=t}},n.a.createElement(d,{title:"Dungeons v1.0.1",score:this.state.score,hp:this.state.hp}),this.renderItems(),this.renderPlayer(),this.renderMonster(),n.a.createElement(f,null),n.a.createElement("div",{className:"key"},"[>] action: ".concat(this.state.key)))}}]),t}(r.Component),k=function(e){var t=e.x,a=e.y,r=e.c;return n.a.createElement("div",{style:{transform:"translate(".concat(50*t,"px,").concat(50*a,"px)")},className:"item"},r)};function b(e,t){return!!p[e.x+16*e.y][t]}var E=v;i.a.render(n.a.createElement(E,null),document.getElementById("root"))}},[[10,2,1]]]);
//# sourceMappingURL=main.9fbe211d.chunk.js.map